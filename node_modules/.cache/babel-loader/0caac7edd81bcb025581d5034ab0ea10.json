{"ast":null,"code":"import _slicedToArray from\"/home/joao/Documents/02_MIND/05_IT/00_PROJECTS/my-hacker-news_typescript+new-api/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/home/joao/Documents/02_MIND/05_IT/00_PROJECTS/my-hacker-news_typescript+new-api/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4;import*as React from'react';import{sortBy}from'lodash';import styled from'styled-components';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var StyledItem=styled.li(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  padding-bottom: 5px;\\n\"])));var StyledColumn=styled.span(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  padding: 0 5px;\\n  white-space: nowrap;\\n  overflow: hidden;\\n  white-space: nowrap;\\n  text-overflow: ellipsis;\\n  a {\\n    color:inherit;\\n  }\\n  width: \",\";\\n\"])),function(props){return props.width;});var StyledButton=styled.button(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  background: transparent;\\n  border: 1px solid #171212;\\n  padding: 5px;\\n  cursor: pointer;\\n  transition: all 0.1s ease-in;\\n  &:hover > svg > g {\\n    background: #171212;\\n    color: #ffffff;\\n  }\\n\"])));var StyledButtonSmall=styled(StyledButton)(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  padding: 5px;\\n\"])));var SORTS={NONE:function NONE(list){return list;},TITLE:function TITLE(list){return sortBy(list,'data.title');},BY:function BY(list){return sortBy(list,'data.by');},DESCENDANTS:function DESCENDANTS(list){return sortBy(list,'data.descendants').reverse();},SCORE:function SCORE(list){return sortBy(list,'data.score').reverse();}};var List=function List(_ref){var list=_ref.list,searchTerm=_ref.searchTerm,onRemoveItem=_ref.onRemoveItem;var _React$useState=React.useState({sortKey:'NONE',isReverse:false}),_React$useState2=_slicedToArray(_React$useState,2),sort=_React$useState2[0],setSort=_React$useState2[1];var handleSort=function handleSort(sortKey){var isReverse=sort.sortKey===sortKey&&!sort.isReverse;setSort({sortKey:sortKey,isReverse:isReverse});};var sortFunction=SORTS[sort.sortKey];var sortedList=sort.isReverse?sortFunction(list).reverse():sortFunction(list);var arrayList=[];return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsxs(StyledItem,{children:[console.log(list),/*#__PURE__*/_jsx(StyledColumn,{width:\"40%\",children:/*#__PURE__*/_jsx(StyledButtonSmall,{type:\"button\",onClick:function onClick(){return handleSort('TITLE');},children:\"Title\"})}),/*#__PURE__*/_jsx(StyledColumn,{width:\"30%\",children:/*#__PURE__*/_jsx(StyledButtonSmall,{type:\"button\",onClick:function onClick(){return handleSort('BY');},children:\"Author\"})}),/*#__PURE__*/_jsx(StyledColumn,{width:\"10%\",children:/*#__PURE__*/_jsx(StyledButtonSmall,{type:\"button\",onClick:function onClick(){return handleSort('DESCENDANTS');},children:\"Comments\"})}),/*#__PURE__*/_jsx(StyledColumn,{width:\"10%\",children:/*#__PURE__*/_jsx(StyledButtonSmall,{type:\"button\",onClick:function onClick(){return handleSort('SCORE');},children:\"Points\"})}),/*#__PURE__*/_jsx(StyledColumn,{width:\"10%\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Actions\"})})]}),sortedList.filter(function(item){for(var key in item.data){if(item.data.title.toLowerCase().indexOf(searchTerm.toLowerCase())!=-1)return item;}}).map(function(item){return/*#__PURE__*/_jsx(Item,{item:item.data,onRemoveItem:onRemoveItem},item.data.id);})]})});};var Item=function Item(_ref2){var item=_ref2.item,onRemoveItem=_ref2.onRemoveItem;return/*#__PURE__*/_jsxs(StyledItem,{children:[console.log('Item component accessed'),/*#__PURE__*/_jsx(StyledColumn,{width:\"40%\",children:/*#__PURE__*/_jsx(\"a\",{href:item.url,children:item.title})}),/*#__PURE__*/_jsx(StyledColumn,{width:\"30%\",children:item.by}),/*#__PURE__*/_jsx(StyledColumn,{width:\"10%\",children:item.descendants}),/*#__PURE__*/_jsx(StyledColumn,{width:\"10%\",children:item.score}),/*#__PURE__*/_jsx(StyledColumn,{width:\"10%\",children:/*#__PURE__*/_jsx(StyledButtonSmall,{type:\"button\",onClick:function onClick(){return onRemoveItem(item);},children:\"Dismiss\"})})]});};export{List,Item};","map":{"version":3,"sources":["/home/joao/Documents/02_MIND/05_IT/00_PROJECTS/my-hacker-news_typescript+new-api/src/List.tsx"],"names":["React","sortBy","styled","StyledItem","li","StyledColumn","span","props","width","StyledButton","button","StyledButtonSmall","SORTS","NONE","list","TITLE","BY","DESCENDANTS","reverse","SCORE","List","searchTerm","onRemoveItem","useState","sortKey","isReverse","sort","setSort","handleSort","sortFunction","sortedList","arrayList","console","log","filter","item","key","data","title","toLowerCase","indexOf","map","id","Item","url","by","descendants","score"],"mappings":"maAAA,MAAO,GAAKA,CAAAA,KAAZ,KAAuB,OAAvB,CACA,OAASC,MAAT,KAAuB,QAAvB,CAEA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,C,wFAEA,GAAMC,CAAAA,UAAU,CAAGD,MAAM,CAACE,EAAV,qIAAhB,CAMA,GAAMC,CAAAA,YAAY,CAAGH,MAAM,CAACI,IAAV,wOASP,SAACC,KAAD,QAAWA,CAAAA,KAAK,CAACC,KAAjB,EATO,CAAlB,CAYA,GAAMC,CAAAA,YAAY,CAAGP,MAAM,CAACQ,MAAV,gRAAlB,CAYA,GAAMC,CAAAA,iBAAiB,CAAGT,MAAM,CAACO,YAAD,CAAT,sFAAvB,CAIA,GAAMG,CAAAA,KAAK,CAAG,CACZC,IAAI,CAAE,cAACC,IAAD,QAAUA,CAAAA,IAAV,EADM,CAEZC,KAAK,CAAE,eAACD,IAAD,QAAUb,CAAAA,MAAM,CAACa,IAAD,CAAO,YAAP,CAAhB,EAFK,CAGZE,EAAE,CAAE,YAACF,IAAD,QAAUb,CAAAA,MAAM,CAACa,IAAD,CAAO,SAAP,CAAhB,EAHQ,CAIZG,WAAW,CAAE,qBAACH,IAAD,QAAUb,CAAAA,MAAM,CAACa,IAAD,CAAO,kBAAP,CAAN,CAAiCI,OAAjC,EAAV,EAJD,CAKZC,KAAK,CAAE,eAACL,IAAD,QAAUb,CAAAA,MAAM,CAACa,IAAD,CAAO,YAAP,CAAN,CAA2BI,OAA3B,EAAV,EALK,CAAd,CA6BA,GAAME,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,MAAmD,IAAhDN,CAAAA,IAAgD,MAAhDA,IAAgD,CAA1CO,UAA0C,MAA1CA,UAA0C,CAA9BC,YAA8B,MAA9BA,YAA8B,CAC9D,oBAAwBtB,KAAK,CAACuB,QAAN,CAAe,CACrCC,OAAO,CAAE,MAD4B,CAErCC,SAAS,CAAE,KAF0B,CAAf,CAAxB,oDAAOC,IAAP,qBAAaC,OAAb,qBAKA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACJ,OAAD,CAAa,CAC9B,GAAMC,CAAAA,SAAS,CAAGC,IAAI,CAACF,OAAL,GAAiBA,OAAjB,EAA4B,CAACE,IAAI,CAACD,SAApD,CAEAE,OAAO,CAAC,CAAEH,OAAO,CAAPA,OAAF,CAAWC,SAAS,CAATA,SAAX,CAAD,CAAP,CACD,CAJD,CAMA,GAAMI,CAAAA,YAAY,CAAGjB,KAAK,CAACc,IAAI,CAACF,OAAN,CAA1B,CACA,GAAMM,CAAAA,UAAU,CAAGJ,IAAI,CAACD,SAAL,CACfI,YAAY,CAACf,IAAD,CAAZ,CAAmBI,OAAnB,EADe,CAEfW,YAAY,CAACf,IAAD,CAFhB,CAIA,GAAIiB,CAAAA,SAAS,CAAG,EAAhB,CAEA,mBACE,kCACE,mCACE,MAAC,UAAD,YACGC,OAAO,CAACC,GAAR,CAAYnB,IAAZ,CADH,cAEE,KAAC,YAAD,EAAc,KAAK,CAAC,KAApB,uBACE,KAAC,iBAAD,EACE,IAAI,CAAC,QADP,CAEE,OAAO,CAAE,yBAAMc,CAAAA,UAAU,CAAC,OAAD,CAAhB,EAFX,mBADF,EAFF,cAUE,KAAC,YAAD,EAAc,KAAK,CAAC,KAApB,uBACE,KAAC,iBAAD,EACE,IAAI,CAAC,QADP,CAEE,OAAO,CAAE,yBAAMA,CAAAA,UAAU,CAAC,IAAD,CAAhB,EAFX,oBADF,EAVF,cAkBE,KAAC,YAAD,EAAc,KAAK,CAAC,KAApB,uBACE,KAAC,iBAAD,EACE,IAAI,CAAC,QADP,CAEE,OAAO,CAAE,yBAAMA,CAAAA,UAAU,CAAC,aAAD,CAAhB,EAFX,sBADF,EAlBF,cA0BE,KAAC,YAAD,EAAc,KAAK,CAAC,KAApB,uBACE,KAAC,iBAAD,EACE,IAAI,CAAC,QADP,CAEE,OAAO,CAAE,yBAAMA,CAAAA,UAAU,CAAC,OAAD,CAAhB,EAFX,oBADF,EA1BF,cAkCE,KAAC,YAAD,EAAc,KAAK,CAAC,KAApB,uBACE,iCADF,EAlCF,GADF,CAuCGE,UAAU,CAACI,MAAX,CAAkB,SAAAC,IAAI,CAAI,CACzB,IAAK,GAAIC,CAAAA,GAAT,GAAgBD,CAAAA,IAAI,CAACE,IAArB,CAA2B,CACzB,GAAGF,IAAI,CAACE,IAAL,CAAUC,KAAV,CAAgBC,WAAhB,GAA8BC,OAA9B,CAAsCnB,UAAU,CAACkB,WAAX,EAAtC,GAAiE,CAAC,CAArE,CACE,MAAOJ,CAAAA,IAAP,CACH,CACF,CALA,EAKEM,GALF,CAKO,SAACN,IAAD,qBACN,KAAC,IAAD,EAEE,IAAI,CAAEA,IAAI,CAACE,IAFb,CAGE,YAAY,CAAEf,YAHhB,EACOa,IAAI,CAACE,IAAL,CAAUK,EADjB,CADM,EALP,CAvCH,GADF,EADF,CAwDD,CA3ED,CAkFA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,WAAGR,CAAAA,IAAH,OAAGA,IAAH,CAASb,YAAT,OAASA,YAAT,oBACX,MAAC,UAAD,YACGU,OAAO,CAACC,GAAR,CAAY,yBAAZ,CADH,cAEE,KAAC,YAAD,EAAc,KAAK,CAAC,KAApB,uBACE,UAAG,IAAI,CAAEE,IAAI,CAACS,GAAd,UAAoBT,IAAI,CAACG,KAAzB,EADF,EAFF,cAKE,KAAC,YAAD,EAAc,KAAK,CAAC,KAApB,UAA2BH,IAAI,CAACU,EAAhC,EALF,cAME,KAAC,YAAD,EAAc,KAAK,CAAC,KAApB,UAA2BV,IAAI,CAACW,WAAhC,EANF,cAOE,KAAC,YAAD,EAAc,KAAK,CAAC,KAApB,UAA2BX,IAAI,CAACY,KAAhC,EAPF,cAQE,KAAC,YAAD,EAAc,KAAK,CAAC,KAApB,uBACA,KAAC,iBAAD,EACE,IAAI,CAAC,QADP,CAEE,OAAO,CAAE,yBAAMzB,CAAAA,YAAY,CAACa,IAAD,CAAlB,EAFX,qBADA,EARF,GADW,EAAb,CAoBA,OAASf,IAAT,CAAeuB,IAAf","sourcesContent":["import * as React from 'react';\nimport { sortBy } from 'lodash';\n\nimport styled from 'styled-components';\n\nconst StyledItem = styled.li`\n  display: flex;\n  align-items: center;\n  padding-bottom: 5px;\n`;\n\nconst StyledColumn = styled.span`\n  padding: 0 5px;\n  white-space: nowrap;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  a {\n    color:inherit;\n  }\n  width: ${(props) => props.width};\n`;\n\nconst StyledButton = styled.button`\n  background: transparent;\n  border: 1px solid #171212;\n  padding: 5px;\n  cursor: pointer;\n  transition: all 0.1s ease-in;\n  &:hover > svg > g {\n    background: #171212;\n    color: #ffffff;\n  }\n`;\n\nconst StyledButtonSmall = styled(StyledButton)`\n  padding: 5px;\n`;\n\nconst SORTS = {\n  NONE: (list) => list,\n  TITLE: (list) => sortBy(list, 'data.title'),\n  BY: (list) => sortBy(list, 'data.by'),\n  DESCENDANTS: (list) => sortBy(list, 'data.descendants').reverse(),\n  SCORE: (list) => sortBy(list, 'data.score').reverse(),\n};\n\ntype Story = {\n  id: string;\n  url: string;\n  title: string;\n  by: string;\n  descendants: number;\n  score: number;\n  kids: Array<number>;\n  time: number;\n  type: string;\n};\n\ntype Stories = Array<Story>;\n\ntype ListProps = {\n  list: Stories;\n  onSortList: string;\n  searchTerm: string;\n  onRemoveItem: (item: Story) => void;\n};\n\nconst List = ({ list, searchTerm, onRemoveItem }: ListProps) => {\n  const [sort, setSort] = React.useState({\n    sortKey: 'NONE',\n    isReverse: false,\n  });\n\n  const handleSort = (sortKey) => {\n    const isReverse = sort.sortKey === sortKey && !sort.isReverse;\n\n    setSort({ sortKey, isReverse });\n  };\n\n  const sortFunction = SORTS[sort.sortKey];\n  const sortedList = sort.isReverse\n    ? sortFunction(list).reverse()\n    : sortFunction(list);\n\n  let arrayList = []\n\n  return (\n    <div>\n      <ul>\n        <StyledItem>\n          {console.log(list)}\n          <StyledColumn width=\"40%\">\n            <StyledButtonSmall\n              type=\"button\" \n              onClick={() => handleSort('TITLE')}\n            >\n              Title\n            </StyledButtonSmall>\n          </StyledColumn>\n          <StyledColumn width=\"30%\">\n            <StyledButtonSmall\n              type=\"button\" \n              onClick={() => handleSort('BY')}\n            >\n              Author\n            </StyledButtonSmall>\n          </StyledColumn>\n          <StyledColumn width=\"10%\">\n            <StyledButtonSmall\n              type=\"button\" \n              onClick={() => handleSort('DESCENDANTS')}\n            >\n              Comments\n            </StyledButtonSmall>\n           </StyledColumn>\n          <StyledColumn width=\"10%\">\n            <StyledButtonSmall\n              type=\"button\" \n              onClick={() => handleSort('SCORE')}\n            >\n              Points\n            </StyledButtonSmall>\n          </StyledColumn>\n          <StyledColumn width=\"10%\">\n            <span>Actions</span>\n          </StyledColumn>\n        </StyledItem>\n        {sortedList.filter(item => {\n          for (let key in item.data) {\n            if(item.data.title.toLowerCase().indexOf(searchTerm.toLowerCase())!=-1)\n              return item\n          }\n        }).map ((item) => (\n          <Item\n            key={item.data.id}\n            item={item.data}\n            onRemoveItem={onRemoveItem}\n          />\n        ))}\n      </ul>\n    </div>\n  );\n};\n\ntype ItemProps = {\n  item: Story;\n  onRemoveItem: (item: Story) => void;\n};\n\nconst Item = ({ item, onRemoveItem }: ItemProps) => (\n  <StyledItem>\n    {console.log('Item component accessed')}\n    <StyledColumn width=\"40%\">\n      <a href={item.url}>{item.title}</a>\n    </StyledColumn>\n    <StyledColumn width=\"30%\">{item.by}</StyledColumn>\n    <StyledColumn width=\"10%\">{item.descendants}</StyledColumn>\n    <StyledColumn width=\"10%\">{item.score}</StyledColumn>\n    <StyledColumn width=\"10%\">\n    <StyledButtonSmall\n      type=\"button\" \n      onClick={() => onRemoveItem(item)}\n    >\n      Dismiss\n    </StyledButtonSmall>\n    </StyledColumn>\n  </StyledItem>\n);\n\nexport { List, Item };\n"]},"metadata":{},"sourceType":"module"}