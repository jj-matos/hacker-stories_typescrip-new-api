{"ast":null,"code":"var _jsxFileName = \"/home/joao/Documents/02_MIND/05_IT/04_LANGUAGES/REACT/hacker-stories/src/App.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nimport * as React from 'react';\nimport axios from 'axios';\nimport styled from 'styled-components';\nimport { ReactComponent as Check } from './check.svg';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StyledContainer = styled.div`\n  height: 100vw;\n  padding: 20px;\n  background: #83a4d4;\n  background: linear-gradient(to left, #b6fbff, #83a4d4);\n  color:#171212;\n`;\n_c = StyledContainer;\nconst StyledHeadlinePrimary = styled.h1`\n  font-size: 48px;\n  font-weight: 300;\n  letter-spacing: 2px;\n`;\n_c2 = StyledHeadlinePrimary;\nconst StyledItem = styled.li`\n  display: flex;\n  align-items: center;\n  padding-bottom: 5px;\n`;\n_c3 = StyledItem;\nconst StyledColumn = styled.span`\n  padding: 0 5px;\n  white-space: nowrap;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  a {\n    color:inherit;\n  }\n  width: ${props => props.width};\n`;\n_c4 = StyledColumn;\nconst StyledButton = styled.button`\n  background: transparent;\n  border: 1px solid #171212;\n  padding: 5px;\n  cursor: pointer;\n  transition: all 0.1s ease-in;\n  &:hover > svg > g {\n    background: #171212;\n    color: #ffffff;\n  }\n`;\nconst StyledButtonSmall = styled(StyledButton)`\n  padding: 5px;\n`;\n_c5 = StyledButtonSmall;\nconst StyledButtonLarge = styled(StyledButton)`\n  padding: 10px;\n`;\n_c6 = StyledButtonLarge;\nconst StyledSearchForm = styled.form`\n  padding: 10px 0 20px 0;\n  display: flex;\n  align-items: baseline;\n`;\n_c7 = StyledSearchForm;\nconst StyledLabel = styled.label`\n  border-top: 1px solid #171212;\n  border-left: 1px solid #171212;\n  padding-left: 5px;\n  font-size: 24px;\n`;\n_c8 = StyledLabel;\nconst StyledInput = styled.input`\n  border: none;\n  border-bottom: 1px solid #171212;\n  background-color: transparent;\n  font-size: 24px;\n`;\n_c9 = StyledInput;\nconst API_ENDPOINT = 'https://hacker-news.firebaseio.com/v0/topstories.json';\n\nconst useSemiPersistentState = (key, initialState) => {\n  _s();\n\n  const [value, setValue] = React.useState(localStorage.getItem(key) || initialState);\n  React.useEffect(() => {\n    localStorage.setItem(key, value);\n  }, [value, key]);\n  return [value, setValue];\n};\n\n_s(useSemiPersistentState, \"16clVEaJ+Xr2ZDVF6trV8RJdLe4=\");\n\nconst storiesReducer = (state, action) => {\n  switch (action.type) {\n    case 'STORIES_FETCH_INIT':\n      return { ...state,\n        isLoading: true,\n        isError: false\n      };\n\n    case 'STORIES_FETCH_SUCCESS':\n      return { ...state,\n        isLoading: false,\n        isError: false,\n        data: action.payload\n      };\n\n    case 'STORIES_FETCH_FAILURE':\n      return { ...state,\n        isLoading: false,\n        isError: true\n      };\n\n    case 'REMOVE_STORY':\n      return { ...state,\n        data: state.data.filter(story => action.payload.id !== story.id)\n      };\n\n    default:\n      throw new Error();\n  }\n};\n\nconst App = () => {\n  _s2();\n\n  const [searchTerm, setSearchTerm] = useSemiPersistentState('search', 'React');\n  const [url, setUrl] = React.useState(`${API_ENDPOINT}${searchTerm}`);\n  const [stories, dispatchStories] = React.useReducer(storiesReducer, {\n    data: [],\n    isLoading: false,\n    isError: false\n  });\n  const handleFetchStories = React.useCallback(async () => {\n    dispatchStories({\n      type: 'STORIES_FETCH_INIT'\n    });\n\n    try {\n      const result = await axios.get(url);\n      dispatchStories({\n        type: 'STORIES_FETCH_SUCCESS',\n        payload: result.data.hits\n      });\n    } catch (error) {\n      dispatchStories({\n        type: 'STORIES_FETCH_FAILURE'\n      });\n    }\n  }, [url]);\n\n  const handleRemoveStory = item => {\n    dispatchStories({\n      type: 'REMOVE_STORY',\n      payload: item\n    });\n  };\n\n  React.useEffect(() => {\n    handleFetchStories();\n  }, [handleFetchStories]);\n\n  const handleSearchInput = event => {\n    setSearchTerm(event.target.value);\n  };\n\n  const handleSearchSubmit = event => {\n    setUrl(`${API_ENDPOINT}${searchTerm}`);\n    event.preventDefault();\n  };\n\n  const SearchForm = _ref => {\n    let {\n      searchTerm,\n      onSearchInput,\n      onSearchSubmit\n    } = _ref;\n    return /*#__PURE__*/_jsxDEV(StyledSearchForm, {\n      onSubmit: onSearchSubmit,\n      children: [/*#__PURE__*/_jsxDEV(InputWithLabel, {\n        id: \"search\",\n        value: searchTerm,\n        isFocused: true,\n        onInputChange: onSearchInput,\n        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Search:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(StyledButtonLarge, {\n        type: \"submit\",\n        disabled: !searchTerm,\n        children: /*#__PURE__*/_jsxDEV(Check, {\n          height: \"18px\",\n          width: \"18px\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 5\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(StyledContainer, {\n    children: [/*#__PURE__*/_jsxDEV(StyledHeadlinePrimary, {\n      children: \"My Hacker Stories\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SearchForm, {\n      searchTerm: searchTerm,\n      onSearchInput: handleSearchInput,\n      onSearchSubmit: handleSearchSubmit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 7\n    }, this), stories.isError && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Something went wrong ...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 27\n    }, this), stories.isLoading ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading ...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(List, {\n      list: stories.data,\n      onRemoveItem: handleRemoveStory\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 247,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(App, \"4FU8b8zPVZOdUlYJqlV0zfF5ujk=\", false, function () {\n  return [useSemiPersistentState];\n});\n\n_c10 = App;\n\nconst InputWithLabel = _ref2 => {\n  _s3();\n\n  let {\n    id,\n    value,\n    type = 'text',\n    onInputChange,\n    isFocused,\n    children\n  } = _ref2;\n  const inputRef = React.useRef();\n  React.useEffect(() => {\n    if (isFocused && inputRef.current) {\n      inputRef.current.focus();\n    }\n  }, [isFocused]);\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(StyledLabel, {\n      htmlFor: id,\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 7\n    }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(StyledInput, {\n      id: id,\n      ref: inputRef,\n      type: type,\n      value: value,\n      onChange: onInputChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 289,\n    columnNumber: 5\n  }, this);\n};\n\n_s3(InputWithLabel, \"cBQ6FQ+sf5H+lvNONLKqtm4aeQ8=\");\n\n_c11 = InputWithLabel;\n\nconst List = _ref3 => {\n  let {\n    list,\n    onRemoveItem\n  } = _ref3;\n  return /*#__PURE__*/_jsxDEV(\"ul\", {\n    children: list.map(item => /*#__PURE__*/_jsxDEV(Item, {\n      item: item,\n      onRemoveItem: onRemoveItem\n    }, item.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 7\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 310,\n    columnNumber: 3\n  }, this);\n};\n\n_c12 = List;\n\nconst Item = _ref4 => {\n  let {\n    item,\n    onRemoveItem\n  } = _ref4;\n  return /*#__PURE__*/_jsxDEV(StyledItem, {\n    children: [/*#__PURE__*/_jsxDEV(StyledColumn, {\n      width: \"40%\",\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        href: item.url,\n        children: item.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(StyledColumn, {\n      width: \"30%\",\n      children: item.author\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(StyledColumn, {\n      width: \"10%\",\n      children: item.num_comments\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(StyledColumn, {\n      width: \"10%\",\n      children: item.points\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(StyledColumn, {\n      width: \"10%\",\n      children: /*#__PURE__*/_jsxDEV(StyledButtonSmall, {\n        type: \"button\",\n        onClick: () => onRemoveItem(item),\n        children: \"Dismiss\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 327,\n    columnNumber: 3\n  }, this);\n};\n\n_c13 = Item;\nexport default App;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13;\n\n$RefreshReg$(_c, \"StyledContainer\");\n$RefreshReg$(_c2, \"StyledHeadlinePrimary\");\n$RefreshReg$(_c3, \"StyledItem\");\n$RefreshReg$(_c4, \"StyledColumn\");\n$RefreshReg$(_c5, \"StyledButtonSmall\");\n$RefreshReg$(_c6, \"StyledButtonLarge\");\n$RefreshReg$(_c7, \"StyledSearchForm\");\n$RefreshReg$(_c8, \"StyledLabel\");\n$RefreshReg$(_c9, \"StyledInput\");\n$RefreshReg$(_c10, \"App\");\n$RefreshReg$(_c11, \"InputWithLabel\");\n$RefreshReg$(_c12, \"List\");\n$RefreshReg$(_c13, \"Item\");","map":{"version":3,"sources":["/home/joao/Documents/02_MIND/05_IT/04_LANGUAGES/REACT/hacker-stories/src/App.tsx"],"names":["React","axios","styled","ReactComponent","Check","StyledContainer","div","StyledHeadlinePrimary","h1","StyledItem","li","StyledColumn","span","props","width","StyledButton","button","StyledButtonSmall","StyledButtonLarge","StyledSearchForm","form","StyledLabel","label","StyledInput","input","API_ENDPOINT","useSemiPersistentState","key","initialState","value","setValue","useState","localStorage","getItem","useEffect","setItem","storiesReducer","state","action","type","isLoading","isError","data","payload","filter","story","id","Error","App","searchTerm","setSearchTerm","url","setUrl","stories","dispatchStories","useReducer","handleFetchStories","useCallback","result","get","hits","error","handleRemoveStory","item","handleSearchInput","event","target","handleSearchSubmit","preventDefault","SearchForm","onSearchInput","onSearchSubmit","InputWithLabel","onInputChange","isFocused","children","inputRef","useRef","current","focus","List","list","onRemoveItem","map","Item","title","author","num_comments","points"],"mappings":"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","sourcesContent":["type Story = {\nobjectID: string;\nurl: string;\ntitle: string;\nauthor: string;\nnum_comments: number;\npoints: number;\n};\n\ntype Stories = Array<Story>;\n\nimport * as React from 'react';\nimport axios from 'axios';\nimport styled from 'styled-components';\n\nimport { ReactComponent as Check } from './check.svg';\n\nconst StyledContainer = styled.div`\n  height: 100vw;\n  padding: 20px;\n  background: #83a4d4;\n  background: linear-gradient(to left, #b6fbff, #83a4d4);\n  color:#171212;\n`;\n\nconst StyledHeadlinePrimary = styled.h1`\n  font-size: 48px;\n  font-weight: 300;\n  letter-spacing: 2px;\n`;\n\nconst StyledItem = styled.li`\n  display: flex;\n  align-items: center;\n  padding-bottom: 5px;\n`;\n\nconst StyledColumn = styled.span`\n  padding: 0 5px;\n  white-space: nowrap;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  a {\n    color:inherit;\n  }\n  width: ${(props) => props.width};\n`;\n\nconst StyledButton = styled.button`\n  background: transparent;\n  border: 1px solid #171212;\n  padding: 5px;\n  cursor: pointer;\n  transition: all 0.1s ease-in;\n  &:hover > svg > g {\n    background: #171212;\n    color: #ffffff;\n  }\n`;\n\nconst StyledButtonSmall = styled(StyledButton)`\n  padding: 5px;\n`;\n\nconst StyledButtonLarge = styled(StyledButton)`\n  padding: 10px;\n`;\n\nconst StyledSearchForm = styled.form`\n  padding: 10px 0 20px 0;\n  display: flex;\n  align-items: baseline;\n`;\n\nconst StyledLabel = styled.label`\n  border-top: 1px solid #171212;\n  border-left: 1px solid #171212;\n  padding-left: 5px;\n  font-size: 24px;\n`;\nconst StyledInput = styled.input`\n  border: none;\n  border-bottom: 1px solid #171212;\n  background-color: transparent;\n  font-size: 24px;\n`;\n\n\nconst API_ENDPOINT = 'https://hacker-news.firebaseio.com/v0/topstories.json';\n\nconst useSemiPersistentState = (\n  key: string,\n  initialState: string\n ): [string, (newValue: string) => void] => {\n  const [value, setValue] = React.useState(\n    localStorage.getItem(key) || initialState\n  );\n\n  React.useEffect(() => {\n    localStorage.setItem(key, value);\n  }, [value, key]);\n\n  return [value, setValue];\n};\n\ntype StoriesState = {\n  data: Stories;\n  isLoading: boolean;\n  isError: boolean;\n};\n\ninterface StoriesFetchInitAction {\n  type: 'STORIES_FETCH_INIT';\n}\n\ninterface StoriesFetchSuccessAction {\n  type: 'STORIES_FETCH_SUCCESS';\n  payload: Stories;\n}\n\ninterface StoriesFetchFailureAction {\n  type: 'STORIES_FETCH_FAILURE';\n}\n\ninterface StoriesRemoveAction {\n  type: 'REMOVE_STORY';\n  payload: Story;\n}\n\ntype StoriesAction = \n  | StoriesFetchInitAction\n  | StoriesFetchSuccessAction\n  | StoriesFetchFailureAction\n  | StoriesRemoveAction;\n\nconst storiesReducer = (\n  state: StoriesState,\n  action: StoriesAction\n) => {\n  switch (action.type) {\n    case 'STORIES_FETCH_INIT':\n      return {\n        ...state,\n        isLoading: true,\n        isError: false,\n      };\n    case 'STORIES_FETCH_SUCCESS':\n      return {\n        ...state,\n        isLoading: false,\n        isError: false,\n        data: action.payload,\n      };\n    case 'STORIES_FETCH_FAILURE':\n      return {\n        ...state,\n        isLoading: false,\n        isError: true,\n      };\n    case 'REMOVE_STORY':\n      return {\n        ...state,\n        data: state.data.filter(\n          (story) => action.payload.id !== story.id\n        ),\n      };\n    default:\n      throw new Error();\n  }\n};\n\nconst App = () => {\n  const [searchTerm, setSearchTerm] = useSemiPersistentState(\n    'search',\n    'React'\n  );\n\n  const [url, setUrl] = React.useState(\n    `${API_ENDPOINT}${searchTerm}`\n  );\n\n  const [stories, dispatchStories] = React.useReducer(\n    storiesReducer,\n    { data: [], isLoading: false, isError: false }\n  );\n\n  const handleFetchStories = React.useCallback(async () => {\n    dispatchStories({ type: 'STORIES_FETCH_INIT' });\n\n    try {\n      const result = await axios.get(url);\n\n      dispatchStories({\n        type: 'STORIES_FETCH_SUCCESS',\n        payload: result.data.hits,\n      });\n    } catch (error) {\n      dispatchStories({ type: 'STORIES_FETCH_FAILURE' });\n    }\n  }, [url]);\n\n  const handleRemoveStory = (item: Story) => {\n    dispatchStories({\n      type: 'REMOVE_STORY',\n      payload: item,\n    });\n  };\n\n  React.useEffect(() => {\n    handleFetchStories();\n    }, [handleFetchStories]);\n\n  const handleSearchInput = (event) => {\n    setSearchTerm(event.target.value);\n  };\n\n  const handleSearchSubmit = (event) => {\n    setUrl(`${API_ENDPOINT}${searchTerm}`);\n\n    event.preventDefault();\n  };\n\n  const SearchForm = ({\n    searchTerm,\n    onSearchInput,\n    onSearchSubmit,\n  }) => (\n    <StyledSearchForm onSubmit={onSearchSubmit}>\n      <InputWithLabel\n        id=\"search\"\n        value={searchTerm}\n        isFocused\n        onInputChange={onSearchInput}\n      >\n\n        <strong>Search:</strong>\n      </InputWithLabel>\n\n      <StyledButtonLarge type=\"submit\" disabled={!searchTerm}>\n        <Check height=\"18px\" width=\"18px\" />\n      </StyledButtonLarge>\n    </StyledSearchForm>\n  );\n\n  return (\n    <StyledContainer>\n      <StyledHeadlinePrimary>My Hacker Stories</StyledHeadlinePrimary>\n\n      <SearchForm\n        searchTerm={searchTerm}\n        onSearchInput={handleSearchInput}\n        onSearchSubmit={handleSearchSubmit}\n      />\n\n      <hr />\n\n      {stories.isError && <p>Something went wrong ...</p>}\n\n      {stories.isLoading ? (\n        <p>Loading ...</p>\n      ) : (\n        <List\n          list={stories.data}\n          onRemoveItem={handleRemoveStory}\n        />\n      )}\n    </StyledContainer>\n  );\n};\n\nconst InputWithLabel = ({\n  id,\n  value,\n  type = 'text',\n  onInputChange,\n  isFocused,\n  children,\n}) => {\n  const inputRef = React.useRef();\n\n  React.useEffect(() => {\n    if (isFocused && inputRef.current) {\n      inputRef.current.focus();\n    }\n  }, [isFocused]);\n\n  return (\n    <React.Fragment>\n      <StyledLabel htmlFor={id}>{children}</StyledLabel>\n      &nbsp;\n      <StyledInput\n        id={id}\n        ref={inputRef}\n        type={type}\n        value={value}\n        onChange={onInputChange}\n      />\n    </React.Fragment>\n  );\n};\n\ntype ListProps = {\n  list: Stories;\n  onRemoveItem: (item: Story) => void;\n};\n\n\nconst List = ({ list, onRemoveItem }: ListProps) => (\n  <ul>\n    {list.map((item) => (\n      <Item\n        key={item.id}\n        item={item}\n        onRemoveItem={onRemoveItem}\n      />\n    ))}\n  </ul>\n);\n\ntype ItemProps = {\nitem: Story;\nonRemoveItem: (item: Story) => void;\n};\n\nconst Item = ({ item, onRemoveItem }: ItemProps) => (\n  <StyledItem>\n    <StyledColumn width=\"40%\">\n      <a href={item.url}>{item.title}</a>\n  </StyledColumn>\n    <StyledColumn width=\"30%\">{item.author}</StyledColumn>\n    <StyledColumn width=\"10%\">{item.num_comments}</StyledColumn>\n    <StyledColumn width=\"10%\">{item.points}</StyledColumn>\n    <StyledColumn width=\"10%\">\n    <StyledButtonSmall\n      type=\"button\" \n      onClick={() => onRemoveItem(item)}\n    >\n      Dismiss\n    </StyledButtonSmall>\n    </StyledColumn>\n  </StyledItem>\n);\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}