{"ast":null,"code":"import _asyncToGenerator from\"/home/joao/Documents/02_MIND/05_IT/00_PROJECTS/my-hacker-news_typescript+new-api/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _objectSpread from\"/home/joao/Documents/02_MIND/05_IT/00_PROJECTS/my-hacker-news_typescript+new-api/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/joao/Documents/02_MIND/05_IT/00_PROJECTS/my-hacker-news_typescript+new-api/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/home/joao/Documents/02_MIND/05_IT/00_PROJECTS/my-hacker-news_typescript+new-api/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2;import _regeneratorRuntime from\"/home/joao/Documents/02_MIND/05_IT/00_PROJECTS/my-hacker-news_typescript+new-api/node_modules/@babel/runtime/regenerator/index.js\";import*as React from'react';import axios from'axios';import{SearchForm}from'./SearchForm.tsx';import{List}from'./List.tsx';import styled from'styled-components';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var StyledContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  height: 100vw;\\n  padding: 20px;\\n  background: #83a4d4;\\n  background: linear-gradient(to left, #b6fbff, #83a4d4);\\n  color:#171212;\\n\"])));var StyledHeadlinePrimary=styled.h1(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  font-size: 48px;\\n  font-weight: 300;\\n  letter-spacing: 2px;\\n\"])));var API_ENDPOINT='https://hacker-news.firebaseio.com/v0/topstories.json';var useSemiPersistentState=function useSemiPersistentState(key,initialState){var _React$useState=React.useState(localStorage.getItem(key)||initialState),_React$useState2=_slicedToArray(_React$useState,2),value=_React$useState2[0],setValue=_React$useState2[1];React.useEffect(function(){localStorage.setItem(key,value);console.log('Search (input) value saved on local storage:');console.log(localStorage.getItem(key)||initialState);},[value,key]);console.log('return from useSemiPersistentState');console.log(value);return[value,setValue];};var storiesReducer=function storiesReducer(state,action){switch(action.type){case'STORIES_FETCH_INIT':return _objectSpread(_objectSpread({},state),{},{isLoading:true,isError:false});case'STORIES_FETCH_SUCCESS':console.log('storiesReducer called. State update: data');console.log(action.payload);return _objectSpread(_objectSpread({},state),{},{isLoading:false,isError:false,data:action.payload});case'STORIES_FETCH_FAILURE':return _objectSpread(_objectSpread({},state),{},{isLoading:false,isError:true});case'REMOVE_STORY':return _objectSpread(_objectSpread({},state),{},{data:state.data.filter(function(story){return action.payload.id!==story.id;})});default:throw new Error();}};var App=function App(){console.log('App renders');var _useSemiPersistentSta=useSemiPersistentState('search','React'),_useSemiPersistentSta2=_slicedToArray(_useSemiPersistentSta,2),searchTerm=_useSemiPersistentSta2[0],setSearchTerm=_useSemiPersistentSta2[1];/*const [sortOption, setSortOption] = useSemiPersistentState(\n    'sort',\n    ''\n  );*/var _React$useState3=React.useState(\"\".concat(API_ENDPOINT)),_React$useState4=_slicedToArray(_React$useState3,2),url=_React$useState4[0],setUrl=_React$useState4[1];var _React$useReducer=React.useReducer(storiesReducer,{data:[],isLoading:false,isError:false}),_React$useReducer2=_slicedToArray(_React$useReducer,2),stories=_React$useReducer2[0],dispatchStories=_React$useReducer2[1];var getAsyncStories=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(fetchedIdList){var storiesArray;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log('1-Promise called');console.log(fetchedIdList.data);storiesArray=[];_context2.next=5;return Promise.all(fetchedIdList.data.map(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(item){var story;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"https://hacker-news.firebaseio.com/v0/item/\".concat(item,\".json\"));case 2:story=_context.sent;storiesArray.push(story);console.log(story);case 5:case\"end\":return _context.stop();}}},_callee);}));return function(_x2){return _ref2.apply(this,arguments);};}()));case 5:console.log('Dispaching');console.log(storiesArray);dispatchStories({type:'STORIES_FETCH_SUCCESS',payload:storiesArray});/* Promise.all(urlIdsArray.data.map(\n        async item => (\n          await fetch (`https://hacker-news.firebaseio.com/v0/item/${item}.json`);\n          (response) => {\n            const story = response.json();\n            storiesArray.push(story);\n            console.log('item pushed');\n          };\n        )\n      ) */case 8:case\"end\":return _context2.stop();}}},_callee2);}));return function getAsyncStories(_x){return _ref.apply(this,arguments);};}();var handleFetchStories=React.useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var fetchedIdList,storiesArray;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:dispatchStories({type:'STORIES_FETCH_INIT'});_context3.prev=1;_context3.next=4;return axios.get(url);case 4:fetchedIdList=_context3.sent;console.log('Data fetched');console.log(fetchedIdList.data);_context3.next=9;return getAsyncStories(fetchedIdList);case 9:storiesArray=_context3.sent;console.log('Array created');console.log(storiesArray);//This useEffect doesn't work here. Gives an error - Why?????\n/*React.useEffect(() => {\n        console.log(3);\n      },[]);*/ //This one also not - Why?\n/*React.useEffect(() => {\n          getAsyncStories().then(result => {\n            console.log(1);\n            dispatchStories({\n              type: 'STORIES_FETCH_SUCCESS',\n              payload: result.stories.data,\n            });\n          });\n      },[]);\n      console.log(4);*/ //console.log(Stories);\n_context3.next=17;break;case 14:_context3.prev=14;_context3.t0=_context3[\"catch\"](1);dispatchStories({type:'STORIES_FETCH_FAILURE'});case 17:case\"end\":return _context3.stop();}}},_callee3,null,[[1,14]]);})),[url]);React.useEffect(function(){handleFetchStories();},[handleFetchStories]);/*const handleSort = (\n    event: React.ChangeEvent<HTMLButtonElement>\n   ) => {\n    setSortOption(sortOption);\n  };*/var handleSearchInput=function handleSearchInput(event){setSearchTerm(event.target.value);console.log('setSearchTerm called');};var handleRemoveStory=function handleRemoveStory(item){dispatchStories({type:'REMOVE_STORY',payload:item});};var handleSearchSubmit=function handleSearchSubmit(event){setUrl(\"\".concat(API_ENDPOINT));event.preventDefault();};/*const setSort = React.useCallback(()) => {\n    const [sort, setSort] = React.useState ([]);\n\n    <List\n      list={stories.data}\n      sortList={sortType}\n      onRemoveItem={handleRemoveStory}\n    />\n  }\n  \n  React.useEffect(()) => {\n    setSort()\n  }, [setSort]);*/return/*#__PURE__*/_jsxs(StyledContainer,{children:[console.log(stories.isLoading),/*#__PURE__*/_jsx(StyledHeadlinePrimary,{children:\"My Hacker Stories\"}),/*#__PURE__*/_jsx(SearchForm,{searchTerm:searchTerm,onSearchInput:handleSearchInput,onSearchSubmit:handleSearchSubmit}),/*#__PURE__*/_jsx(\"hr\",{}),stories.isError&&/*#__PURE__*/_jsx(\"p\",{children:\"Something went wrong ...\"}),console.log(stories.isLoading),stories.isLoading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading ...\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[console.log(stories.data),/*#__PURE__*/_jsx(List,{list:stories.data,onRemoveItem:handleRemoveStory})]})]});};export default App;export{storiesReducer,SearchForm,List};","map":{"version":3,"sources":["/home/joao/Documents/02_MIND/05_IT/00_PROJECTS/my-hacker-news_typescript+new-api/src/App.tsx"],"names":["React","axios","SearchForm","List","styled","StyledContainer","div","StyledHeadlinePrimary","h1","API_ENDPOINT","useSemiPersistentState","key","initialState","useState","localStorage","getItem","value","setValue","useEffect","setItem","console","log","storiesReducer","state","action","type","isLoading","isError","payload","data","filter","story","id","Error","App","searchTerm","setSearchTerm","url","setUrl","useReducer","stories","dispatchStories","getAsyncStories","fetchedIdList","storiesArray","Promise","all","map","item","get","push","handleFetchStories","useCallback","handleSearchInput","event","target","handleRemoveStory","handleSearchSubmit","preventDefault"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport axios from 'axios';\n\nimport { SearchForm } from './SearchForm.tsx';\nimport { List } from './List.tsx';\n\nimport styled from 'styled-components';\n\nimport { ReactComponent as Check } from './check.svg';\n\nconst StyledContainer = styled.div`\n  height: 100vw;\n  padding: 20px;\n  background: #83a4d4;\n  background: linear-gradient(to left, #b6fbff, #83a4d4);\n  color:#171212;\n`;\n\nconst StyledHeadlinePrimary = styled.h1`\n  font-size: 48px;\n  font-weight: 300;\n  letter-spacing: 2px;\n`;\n\nconst API_ENDPOINT = 'https://hacker-news.firebaseio.com/v0/topstories.json';\n\nconst useSemiPersistentState = (\n  key: string,\n  initialState: string\n ): [string, (newValue: string) => void] => {\n  const [value, setValue] = React.useState(\n    localStorage.getItem(key) || initialState\n  );\n\n  React.useEffect(() => {\n    localStorage.setItem(key, value);\n    console.log('Search (input) value saved on local storage:');\n    console.log(localStorage.getItem(key) || initialState);\n  }, [value, key]);\n  \n  console.log('return from useSemiPersistentState');\n  console.log(value);\n  return [value, setValue];\n};\n\ntype StoriesState = {\n  data: Stories;\n  isLoading: boolean;\n  isError: boolean;\n};\n\ninterface StoriesFetchInitAction {\n  type: 'STORIES_FETCH_INIT';\n}\n\ninterface StoriesFetchSuccessAction {\n  type: 'STORIES_FETCH_SUCCESS';\n  payload: Stories;\n}\n\ninterface StoriesFetchFailureAction {\n  type: 'STORIES_FETCH_FAILURE';\n}\n\ninterface StoriesRemoveAction {\n  type: 'REMOVE_STORY';\n  payload: Story;\n}\n\ntype StoriesAction = \n  | StoriesFetchInitAction\n  | StoriesFetchSuccessAction\n  | StoriesFetchFailureAction\n  | StoriesRemoveAction;\n\nconst storiesReducer = (\n  state: StoriesState,\n  action: StoriesAction\n) => {\n  switch (action.type) {\n    case 'STORIES_FETCH_INIT':\n      return {\n        ...state,\n        isLoading: true,\n        isError: false,\n      };\n    case 'STORIES_FETCH_SUCCESS':\n      console.log('storiesReducer called. State update: data');\n      console.log(action.payload);\n      return {\n        ...state,\n        isLoading: false,\n        isError: false,\n        data: action.payload,\n      };\n    case 'STORIES_FETCH_FAILURE':\n      return {\n        ...state,\n        isLoading: false,\n        isError: true,\n      };\n    case 'REMOVE_STORY':\n      return {\n        ...state,\n        data: state.data.filter(\n          (story) => action.payload.id !== story.id\n        ),\n      };\n    default:\n      throw new Error();\n  }\n};\n\nconst App = () => {\n  console.log('App renders');\n\n  const [searchTerm, setSearchTerm] = useSemiPersistentState(\n    'search',\n    'React'\n  );\n  \n /*const [sortOption, setSortOption] = useSemiPersistentState(\n    'sort',\n    ''\n  );*/\n\n  const [url, setUrl] = React.useState(\n    `${API_ENDPOINT}`\n  );\n\n  const [stories, dispatchStories] = React.useReducer(\n    storiesReducer,\n    { data: [], isLoading: false, isError: false }\n  );\n\n  const getAsyncStories = async (fetchedIdList) => {\n    console.log('1-Promise called');\n    console.log(fetchedIdList.data);\n    \n    const storiesArray = [];\n\n    await Promise.all (\n      fetchedIdList.data.map(\n        async (item) => {\n          const story = await axios.get(`https://hacker-news.firebaseio.com/v0/item/${item}.json`);\n          storiesArray.push(story);\n          console.log(story);\n        }\n      )\n    )\n    console.log('Dispaching');\n    console.log(storiesArray);\n\n    dispatchStories({\n      type: 'STORIES_FETCH_SUCCESS',\n      payload: storiesArray,\n    });\n     \n      /* Promise.all(urlIdsArray.data.map(\n        async item => (\n          await fetch (`https://hacker-news.firebaseio.com/v0/item/${item}.json`);\n          (response) => {\n            const story = response.json();\n            storiesArray.push(story);\n            console.log('item pushed');\n          };\n        )\n      ) */\n  };\n\n  const handleFetchStories = React.useCallback(async () => {\n    dispatchStories({ type: 'STORIES_FETCH_INIT' });\n\n    try {\n      const fetchedIdList = await axios.get(url);\n      console.log('Data fetched');\n      console.log(fetchedIdList.data);\n\n      const storiesArray = await getAsyncStories(fetchedIdList);\n      console.log('Array created');\n      console.log(storiesArray);\n\n      //This useEffect doesn't work here. Gives an error - Why?????\n      /*React.useEffect(() => {\n        console.log(3);\n      },[]);*/\n\n      //This one also not - Why?\n      /*React.useEffect(() => {\n          getAsyncStories().then(result => {\n            console.log(1);\n            dispatchStories({\n              type: 'STORIES_FETCH_SUCCESS',\n              payload: result.stories.data,\n            });\n          });\n      },[]);\n      console.log(4);*/\n\n     \n\n\n      //console.log(Stories);\n\n    } catch (error) {\n      dispatchStories({ type: 'STORIES_FETCH_FAILURE' });\n    }\n  }, [url]);\n\n  React.useEffect(() => {\n    handleFetchStories();\n    }, [handleFetchStories]);\n\n  /*const handleSort = (\n    event: React.ChangeEvent<HTMLButtonElement>\n   ) => {\n    setSortOption(sortOption);\n  };*/\n\n  const handleSearchInput = (\n    event: React.ChangeEvent<HTMLInputElement>\n  ) => {\n    setSearchTerm(event.target.value);\n    console.log('setSearchTerm called');\n  };\n\n  const handleRemoveStory = (item: Story) => {\n    dispatchStories({\n      type: 'REMOVE_STORY',\n      payload: item,\n    });\n  };\n\n  const handleSearchSubmit = (\n   event: React.FormEvent<HTMLFormElement>\n  ) => {\n    setUrl(`${API_ENDPOINT}`);\n\n    event.preventDefault();\n  };\n\n\n\n  /*const setSort = React.useCallback(()) => {\n    const [sort, setSort] = React.useState ([]);\n\n    <List\n      list={stories.data}\n      sortList={sortType}\n      onRemoveItem={handleRemoveStory}\n    />\n  }\n  \n  React.useEffect(()) => {\n    setSort()\n  }, [setSort]);*/\n\n  return (\n    <StyledContainer>\n      {console.log(stories.isLoading)}\n      <StyledHeadlinePrimary>My Hacker Stories</StyledHeadlinePrimary>\n\n      <SearchForm\n        searchTerm={searchTerm}\n        onSearchInput={handleSearchInput}\n        onSearchSubmit={handleSearchSubmit}\n      />\n\n      <hr />\n      {stories.isError && <p>Something went wrong ...</p>}\n      {console.log(stories.isLoading)}\n      {stories.isLoading ? (\n        <p>Loading ...</p>\n      ) : (\n        <>\n        {console.log(stories.data)}\n        <List\n          list={stories.data}\n          onRemoveItem={handleRemoveStory}\n        />\n        </>\n      )}\n    </StyledContainer>\n  );\n};\n\nexport default App;\n\nexport { storiesReducer, SearchForm, List};\n\n"]},"metadata":{},"sourceType":"module"}